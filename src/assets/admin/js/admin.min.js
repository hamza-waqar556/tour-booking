(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var i=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$tabs=$("ul.nav-tabs > li"),this.bindEvents()},n=[{key:"bindEvents",value:function(){var t=this;this.$tabs.on("click",(function(e){e.preventDefault(),t.switchTab(e)}))}},{key:"switchTab",value:function(t){$("ul.nav-tabs li.active").removeClass("active"),$(".tab-pane.active").removeClass("active");var e=$(t.currentTarget),n=$(t.target).attr("href");e.addClass("active"),$(n).addClass("active")}}],n&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}jQuery(document).ready((function(){new i}));var s=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.selectedContainer=e.querySelector(".aiob-selected-options"),this.dropdown=e.querySelector(".multi-select-dropdown"),this.hiddenInput=e.querySelector('input[name="hotel_amenities"]'),this.options=this.getOptionsFromAttribute(),this.selectedValues=this.hiddenInput.value?this.hiddenInput.value.split(","):[],this.init()},e=[{key:"getOptionsFromAttribute",value:function(){try{return JSON.parse(this.element.getAttribute("data-multi-options"))||[]}catch(t){return console.error("Invalid JSON in data-multi-options:",t),[]}}},{key:"init",value:function(){var t=this;this.selectedContainer.addEventListener("click",(function(e){e.stopPropagation(),t.toggleDropdown()})),document.addEventListener("click",(function(e){return t.handleClickOutside(e)})),this.renderOptions(),this.updateSelectedDisplay()}},{key:"toggleDropdown",value:function(){this.dropdown.style.display="block"===this.dropdown.style.display?"none":"block"}},{key:"handleClickOutside",value:function(t){this.element.contains(t.target)||(this.dropdown.style.display="none")}},{key:"renderOptions",value:function(){var t=this;this.dropdown.innerHTML="",this.options.forEach((function(e){var n=document.createElement("div");n.textContent=e,n.classList.add("multi-select-option"),n.addEventListener("click",(function(){return t.selectOption(e)})),t.selectedValues.includes(e)&&n.classList.add("selected"),t.dropdown.appendChild(n)}))}},{key:"selectOption",value:function(t){this.selectedValues.includes(t)?this.selectedValues=this.selectedValues.filter((function(e){return e!==t})):this.selectedValues.push(t),this.updateSelectedDisplay()}},{key:"updateSelectedDisplay",value:function(){var t=this;this.selectedContainer.innerHTML="",0===this.selectedValues.length?this.selectedContainer.textContent="Select options":this.selectedValues.forEach((function(e){var n=document.createElement("span");n.classList.add("aiob-single-option"),n.textContent=e;var i=document.createElement("span");i.classList.add("remove-single-option"),i.textContent="Ã—",i.addEventListener("click",(function(n){n.stopPropagation(),t.removeOption(e)})),n.appendChild(i),t.selectedContainer.appendChild(n)})),this.hiddenInput.value=this.selectedValues.join(",")}},{key:"removeOption",value:function(t){this.selectedValues=this.selectedValues.filter((function(e){return e!==t})),this.updateSelectedDisplay()}}],e&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,l(i.key),i)}}function l(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".aiob-multi-select").forEach((function(t){return new s(t)}))}));var d=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.options=this.getOptionsFromAttribute(),this.hiddenInput=document.querySelector("#".concat(this.container.id,"-input")),this.init()},(e=[{key:"getOptionsFromAttribute",value:function(){try{return JSON.parse(this.container.getAttribute("data-options"))||[]}catch(t){return console.error("Invalid JSON in data-options:",t),[]}}},{key:"init",value:function(){var t=this;this.container.classList.add("aiob-searchable-dropdown"),this.input=document.createElement("input"),this.input.setAttribute("type","text"),this.list=document.createElement("ul"),this.list.classList.add("aiob-searchable-dropdown-list"),this.container.appendChild(this.input),this.container.appendChild(this.list),this.populateList(),this.hiddenInput.value&&(this.input.value=this.hiddenInput.value),this.input.addEventListener("click",(function(){return t.toggleDropdown(!0)})),this.input.addEventListener("keyup",(function(){return t.filterOptions()})),document.addEventListener("click",(function(e){return t.handleClickOutside(e)}))}},{key:"populateList",value:function(){var t=this;this.list.innerHTML="",this.options.forEach((function(e){var n=document.createElement("li");n.textContent=e,n.addEventListener("click",(function(){return t.selectOption(e)})),t.list.appendChild(n)}))}},{key:"toggleDropdown",value:function(t){this.list.style.display=t?"block":"none"}},{key:"filterOptions",value:function(){var t=this.input.value.toLowerCase();this.list.childNodes.forEach((function(e){e.style.display=e.textContent.toLowerCase().includes(t)?"block":"none"}))}},{key:"selectOption",value:function(t){this.input.value=t,this.hiddenInput&&(this.hiddenInput.value=t),this.toggleDropdown(!1)}},{key:"handleClickOutside",value:function(t){this.container.contains(t.target)||this.toggleDropdown(!1)}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,f(i.key),i)}}function f(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-options]").forEach((function(t){return new d(t)}))}));var y=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$container=$(e),this.$input=this.$container.find(".airline-search-input"),this.$results=this.$container.find(".airline-search-results"),this.init()},e=[{key:"init",value:function(){this.$results.hide(),this.bindEvents()}},{key:"bindEvents",value:function(){this.$input.on("keyup",this.onKeyUp.bind(this)),this.$results.on("click","li",this.onResultClick.bind(this)),$(document).on("click",this.onDocumentClick.bind(this))}},{key:"onKeyUp",value:function(){var t=this.$input.val().trim();if(t.length<2)return this.$results.hide(),void this.$input.css({"background-image":"none","padding-left":"8px"});this.$input.css({"background-image":"none","padding-left":"8px"}),this.loadAirlines(t)}},{key:"loadAirlines",value:function(t){var e=this;$.ajax({url:AIOB.plugin.ajax_url,method:"POST",dataType:"json",data:{action:"searchAirlines",q:t},success:function(t){var n="";t.success&&t.data.length?($.each(t.data,(function(t,e){n+='<li style="padding:8px; border-bottom:1px solid #eee; display:flex; align-items:center; cursor:pointer;">\n                                <img src="'.concat(e.logo,'" alt="').concat(e.code,'" style="width:30px; height:30px; margin-right:10px;" />\n                                <span>').concat(e.name," - ").concat(e.code,"</span>\n                              </li>")})),e.$results.html(n).show()):e.$results.html('<li style="padding:8px;">No results found</li>').show()},error:function(t,e,n){console.log("Error fetching airlines: "+n)}})}},{key:"onResultClick",value:function(t){var e=$(t.currentTarget),n=e.find("span").text(),i=e.find("img").attr("src");this.$input.val(n),this.$results.hide(),this.$input.css({"background-image":"url(".concat(i,")"),"background-repeat":"no-repeat","background-size":"30px 30px","background-position":"5px center","padding-left":"40px"})}},{key:"onDocumentClick",value:function(t){$(t.target).closest(this.$container).length||this.$results.hide()}}],e&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,b(i.key),i)}}function b(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}jQuery(document).ready((function(){$(".airline-search-container").each((function(){new y(this)}))}));var g=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$container=$(e),this.$inputWrapper=this.$container.find(".airport-search-input-wrapper"),this.$input=this.$container.find(".airport-search-input"),this.$codeBox=this.$container.find(".airport-code-box-input"),this.$results=this.$container.find(".airport-search-results"),this.init()},e=[{key:"init",value:function(){this.$results.hide(),this.bindEvents()}},{key:"bindEvents",value:function(){this.$input.on("keyup",this.onKeyUp.bind(this)),this.$results.on("click","li",this.onResultClick.bind(this)),$(document).on("click",this.onDocumentClick.bind(this))}},{key:"onKeyUp",value:function(){var t=this.$input.val().trim();t.length<2?this.$results.hide():this.loadAirports(t)}},{key:"loadAirports",value:function(t){var e=this;$.ajax({url:AIOB.plugin.ajax_url,method:"POST",dataType:"json",data:{action:"searchAirports",q:t},success:function(t){var n="";t.success&&t.data.length?($.each(t.data,(function(t,e){n+='\n                  <li data-code="'.concat(e.code,'" data-name="').concat(e.name,'">\n                    <div class="airport-code-box">\n                      <span>').concat(e.code,'</span>\n                    </div>\n                    <div class="airport-info">\n                      <div class="airport-location">\n                        ').concat(e.city).concat(e.state?", "+e.state:"").concat(e.country?", "+e.country:"",'\n                      </div>\n                      <div class="airport-name">').concat(e.name,"</div>\n                    </div>\n                  </li>\n                ")})),e.$results.html(n).show()):e.$results.html('<li style="padding:8px;">No results found</li>').show()},error:function(t,e,n){console.log("Error fetching airports: "+n)}})}},{key:"onResultClick",value:function(t){var e=$(t.currentTarget),n=e.data("code"),i=e.data("name");this.$input.val(i),this.$codeBox.html("<span>".concat(n,"</span>")),this.$results.hide()}},{key:"onDocumentClick",value:function(t){$(t.target).closest(this.$container).length||this.$results.hide()}}],e&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();jQuery(document).ready((function(){$(".airport-search-container").each((function(){new g(this)}))})),console.log("Admin JS loaded")})();