(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var i=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.options=this.getOptionsFromAttribute(),this.hiddenInput=document.querySelector("#".concat(this.container.id,"-input")),this.init()},(n=[{key:"getOptionsFromAttribute",value:function(){try{return JSON.parse(this.container.getAttribute("data-options"))||[]}catch(t){return console.error("Invalid JSON in data-options:",t),[]}}},{key:"init",value:function(){var t=this;this.container.classList.add("aiob-searchable-dropdown"),this.input=document.createElement("input"),this.input.setAttribute("type","text"),this.list=document.createElement("ul"),this.list.classList.add("aiob-searchable-dropdown-list"),this.container.appendChild(this.input),this.container.appendChild(this.list),this.populateList(),this.hiddenInput.value&&(this.input.value=this.hiddenInput.value),this.input.addEventListener("click",(function(){return t.toggleDropdown(!0)})),this.input.addEventListener("keyup",(function(){return t.filterOptions()})),document.addEventListener("click",(function(e){return t.handleClickOutside(e)}))}},{key:"populateList",value:function(){var t=this;this.list.innerHTML="",this.options.forEach((function(e){var n=document.createElement("li");n.textContent=e,n.addEventListener("click",(function(){return t.selectOption(e)})),t.list.appendChild(n)}))}},{key:"toggleDropdown",value:function(t){this.list.style.display=t?"block":"none"}},{key:"filterOptions",value:function(){var t=this.input.value.toLowerCase();this.list.childNodes.forEach((function(e){e.style.display=e.textContent.toLowerCase().includes(t)?"block":"none"}))}},{key:"selectOption",value:function(t){this.input.value=t,this.hiddenInput&&(this.hiddenInput.value=t),this.toggleDropdown(!1)}},{key:"handleClickOutside",value:function(t){this.container.contains(t.target)||this.toggleDropdown(!1)}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-options]").forEach((function(t){return new i(t)}))}));var l=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.selectedContainer=e.querySelector(".aiob-selected-options"),this.dropdown=e.querySelector(".multi-select-dropdown"),this.hiddenInput=e.querySelector('input[name="hotel_amenities"]'),this.options=this.getOptionsFromAttribute(),this.selectedValues=this.hiddenInput.value?this.hiddenInput.value.split(","):[],this.init()},e=[{key:"getOptionsFromAttribute",value:function(){try{return JSON.parse(this.element.getAttribute("data-multi-options"))||[]}catch(t){return console.error("Invalid JSON in data-multi-options:",t),[]}}},{key:"init",value:function(){var t=this;this.selectedContainer.addEventListener("click",(function(e){e.stopPropagation(),t.toggleDropdown()})),document.addEventListener("click",(function(e){return t.handleClickOutside(e)})),this.renderOptions(),this.updateSelectedDisplay()}},{key:"toggleDropdown",value:function(){this.dropdown.style.display="block"===this.dropdown.style.display?"none":"block"}},{key:"handleClickOutside",value:function(t){this.element.contains(t.target)||(this.dropdown.style.display="none")}},{key:"renderOptions",value:function(){var t=this;this.dropdown.innerHTML="",this.options.forEach((function(e){var n=document.createElement("div");n.textContent=e,n.classList.add("multi-select-option"),n.addEventListener("click",(function(){return t.selectOption(e)})),t.selectedValues.includes(e)&&n.classList.add("selected"),t.dropdown.appendChild(n)}))}},{key:"selectOption",value:function(t){this.selectedValues.includes(t)?this.selectedValues=this.selectedValues.filter((function(e){return e!==t})):this.selectedValues.push(t),this.updateSelectedDisplay()}},{key:"updateSelectedDisplay",value:function(){var t=this;this.selectedContainer.innerHTML="",0===this.selectedValues.length?this.selectedContainer.textContent="Select options":this.selectedValues.forEach((function(e){var n=document.createElement("span");n.classList.add("aiob-single-option"),n.textContent=e;var i=document.createElement("span");i.classList.add("remove-single-option"),i.textContent="Ã—",i.addEventListener("click",(function(n){n.stopPropagation(),t.removeOption(e)})),n.appendChild(i),t.selectedContainer.appendChild(n)})),this.hiddenInput.value=this.selectedValues.join(",")}},{key:"removeOption",value:function(t){this.selectedValues=this.selectedValues.filter((function(e){return e!==t})),this.updateSelectedDisplay()}}],e&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".aiob-multi-select").forEach((function(t){return new l(t)}))})),console.log("Admin JS loaded"),window.addEventListener("load",(function(){for(var t=document.querySelectorAll("ul.nav-tabs > li"),e=0;e<t.length;e++)t[e].addEventListener("click",n);function n(t){t.preventDefault(),document.querySelector("ul.nav-tabs li.active").classList.remove("active"),document.querySelector(".tab-pane.active").classList.remove("active");var e=t.currentTarget,n=t.target.getAttribute("href");e.classList.add("active"),document.querySelector(n).classList.add("active")}}))})();